import TabItem from "@theme/TabItem";
import Tabs from "@theme/Tabs";

# `iptables` / Netfilter

## Snippets

### List all chains and rules

```shell
iptables --list --numeric --line-numbers
```

### Persist rules across reboots

<Tabs groupId="os" defaultValue="debian">
  <TabItem value="debian" label="Debian/Ubuntu" default>
    1. Install the `iptables-persistent` package:

      ```shell
      sudo apt install iptables-persistent
      ```

    2. Save current rules

      ```shell
      sudo netfilter-persistent save
      ```

      Rules are saved in `/etc/iptables/rules.v4` and `/etc/iptables/rules.v6`. A systemd service will be setup automatically to restore these rules on boot.

    3. In case you want to reload rules manually, use:

      ```shell
      sudo netfilter-persistent reload
      ```

  </TabItem>
</Tabs>
